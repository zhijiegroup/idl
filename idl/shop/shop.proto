syntax = "proto3";
package glory_api;

import "api.proto";
import "base.proto";


message Shop {
  int64 shop_id = 1;
  int64 seller_id = 2;
  string shop_name = 3;
  string shop_type = 4;
  string company_name = 5;
  string company_id  = 6;
  string company_category  = 7;
  string owner_id  = 8;
  string owner_name  = 9;
  string owner_id_front_url = 11;
  string owner_id_back_url = 12;
  string owner_id_start_date = 13;
  string owner_id_expiry_date = 14;
  string shop_logo_url = 15;
  string province = 16;
  string city = 17;
  string district = 18;
  string address = 19;
  string business_license_url = 20;
  string business_license_start_date = 21;
  string business_license_end_date  = 22;
  string owner_location = 24;
  string company_bank_account = 25;
  string company_bank_phone = 26;
  bool company_bank_validated = 27;
  int32 certify_status = 28;  // 1: inProgress, 2: Approved, 3: Rejected
}

message ShopWithAuthor {
  Shop shop =1;
  base.AuthorInfo author_info = 2;
}

message CreateShopRequest {
  base.BaseRequest base_request = 1;
  Shop shop =2;
  string created_by = 3;
}
message CreateShopResponse {
  base.BaseResponse base_resp = 1;
  int64 shop_id = 2;
//  ShopWithAuthor shop_detail =2;
}

message GetShopRequest {
  base.BaseRequest base_request = 1;
  int64 shop_id = 2;

}
message GetShopResponse {
  base.BaseResponse base_resp = 1;
  ShopWithAuthor shop_detail =2;
}

message UpdateShopRequest {
  base.BaseRequest base_request = 1;
  Shop shop = 2;
}
message UpdateShopResponse {
  base.BaseResponse base_resp = 1;
  int64 shop_id=2;
}


message ListShopRequest {
  base.BaseRequest base_request = 1;
  int64 shop_id = 2;
  int64 seller_id = 4;
  string shop_name = 5;
  string shop_type = 6;
  string province = 7;
  string city  = 8;
  string district  = 9;
  string address  = 10;
  string post  = 11;
  string company_name  = 12;
  string owner_name  = 13;
  base.PaginationRequest pagination = 100;
}
message ListShopResponse {
  base.BaseResponse base_resp = 1;
  repeated ShopWithAuthor shop_detail = 2;
  base.PaginationResponse pagination = 100;
}

message DeleteShopRequest {
  base.BaseRequest base_request=1;
  int64 shop_id =2;
}
message DeleteShopResponse {
  base.BaseResponse base_resp = 1;
}


message AddShopAccessRequest {
  base.BaseRequest base_request = 1;
  int64 shop_id =2;
  string access_type = 3; // 支持 admin, reseller
}

message AddShopAccessResponse {
  base.BaseResponse base_resp = 1;
}

message RemoveShopAccessRequest {
  base.BaseRequest base_request = 1;
  int64 shop_access_id = 2;
}

message RemoveShopAccessResponse {
  base.BaseResponse base_resp = 1;
}

message VerifyFieldRequest {
  base.BaseRequest base_request = 1;
  string shop_name = 2;
}

message VerifyFieldResponse {
  base.BaseResponse base_resp = 1;
  bool shop_name_valid = 2;
}




